<!-- Extend base template -->
{% extends 'base.html' %} {% block content %}
<div class="message-box">
	<h2>Chat Room: {{code}}</h2>
	<!-- inject messages into empty div -->
	<div
		class="messages"
		id="messages"></div>
	<div class="inputs">
		<input
			type="text"
			rows="3"
			placeholder="Message"
			name="message"
			id="message" />
		<button
			type="button"
			name="send"
			id="send-btn"
			onClick="sendMessage()">
			Send
		</button>
	</div>
</div>
<!-- NOTE: include javascript file -->
<script src="{{url_for('static', filename='js/index.js')}}"></script>

<!-- dynamically call createMessage function for all messages in room history and display them -->
{% for msg in messages %}
<script
	type="text/javascript"
	defer>
	createMessage("{{msg.name}}", "{{msg.message}}");
</script>
{% endfor %} {% endblock %}
